Code review

#1
дедлок - ок
не дублрируй код, сделай отд метод который принимает объекты в нужном порядке